#+AUTHOR: Tiphaine Despr√©s
#+email: tiphaine.despres@gmail.com
#+PROPERTY: BLOG Sample Stat
#+STARTUP: fninline overview

#+OPTIONS: <:nil d:nil timestamp:t
#+OPTIONS: ^:nil tags:nil
#+OPTIONS: toc:nil num:nil
#+SEQ_TODO: TODO READY DONE
* Emacs                                                               :Emacs:
** DONE Emacs + ESS = loving R                                            :R:
   SCHEDULED: +<2016-12-30 ven.>
   :PROPERTIES:
   :EXPORT_JEKYLL_LAYOUT:
   :filename: 2016-12-30-emacs-ess-loving-r
   :END:
Since my second year of university I have studied Statistic with R on Windows using
the basic text editor from the R GUI console. I was happy with it for a
couple of years. However, when I start coding more complex and longer
function, it was a nightmare to handle human issues, specially
parentheses tracking. A professor told me that they were some programs
specific to code in R, such as [[http://nbcgib.uesc.br/lec/software/editores/tinn-r/en][Tinn-R]] or the well known [[https://www.rstudio.com/][R-Studio]]. I
also found that Notepad++ as a plugin ([[https://sourceforge.net/projects/npptor/][nppToR]]) to link the text
editor to R. However, after trying R-Studio and Notepad++, I was not
very happy with them. I always did not like the multi-windows
design from R-Studio, and Notepad++ was only a better way to use
the script function from the R GUI. It was not fully integrated
R. Finally, my professor told me about Emacs, and how it was working
with R. I first try it with Windows, using the very good
[[http://vgoulet.act.ulaval.ca/en/emacs/][Emacs version from Vincent Goulet]]. It was exactly what I was looking for. A software
that can interact with R without a lot of windows, and well integrated
with R. Few years later, I jump to Linux using first Manjaro (an
ArchLinux distribution), and after Xubuntu to keep the very good XFCE
desktop environment. 

#+ATTR_HTML: :width 800
[[/assets/images/screenshoot-emacs.png][file:/assets/images/screenshoot-emacs.png]]



For the reader who don't know anything about [[https://www.gnu.org/software/emacs/][Emacs]] this is a free
software from the GNU licence which can speak R using [[https://ess.r-project.org/][ESS]] package (for Emacs
Speaks Statistic). But Emacs did not speak only statistic, this is an
incredible tool that can speak multiple computers languages, read your
email and much more. In fact, I am writing this blog article using
Emacs through  [[http://orgmode.org/][Org-mode]]. Emacs is a cross-platform program which can
be used with Windows or Mac Os, and also Linux.

I will put more articles in this blog describing how I am using Emacs
with R, and for blogging, and hopefully you will consider it to use
for your own 
* R                                                                       :R:
** TODO For loop                                                      :Loop:
Using loop with R is not the proper behaviour to have. Indeed,
using the apply functions family such as /tapply/, /lapply/, and so
one are a better way to do it, but for me, this is in some case too
complicated. Thus, instead of using apply functions, which are faster
I used /*for loop*/. 

=for loop=
 
** DONE Convert factor to character                          :factor:convert:
   SCHEDULED: <2017-01-12 jeu.>
   :PROPERTIES:
   :EXPORT_JEKYLL_LAYOUT:
   :filename: 2017-01-12-convert-factor-to-character
   :END:
In R, you use sometimes function to convert vector to another
format =as.character= or =as.numeric=. 
However, you need to be careful when using the function =as.numeric= on
a factor. Indeed, if the factor contains factor number, it will
convert them to the level number and not convert the writing number
from your factor.
Here is a short example:

#+BEGIN_SRC R :exports both :colnames yes
library(data.table)
set.seed(23) #set.seed to have the same random value as in this example
to_convert <- factor(runif(1:10, min = 0, max = 100))
print(levels(to_convert))
data.table(factor_to_convert = to_convert, using_as_numeric_only = as.numeric(to_convert), using_as_character_first = as.numeric(as.character(to_convert)))

#+END_SRC


#+RESULTS:
| factor_to_convert | using_as_numeric_only | using_as_character_first |
|-------------------+-----------------------+--------------------------|
|  57.6603659661487 |                     4 |         57.6603659661487 |
|  22.3072855733335 |                     1 |         22.3072855733335 |
|  33.1896589370444 |                     2 |         33.1896589370444 |
|   71.072455169633 |                     5 |          71.072455169633 |
|  81.9448956055567 |                     6 |         81.9448956055567 |
|  42.3720560967922 |                     3 |         42.3720560967922 |
|  96.3544549420476 |                     8 |         96.3544549420476 |
|  97.8130409261212 |                     9 |         97.8130409261212 |
|   84.052187949419 |                     7 |          84.052187949419 |
|  99.6611237060279 |                    10 |         99.6611237060279 |

So, be careful when you are using factor with numerical levels and you
want to convert them.

